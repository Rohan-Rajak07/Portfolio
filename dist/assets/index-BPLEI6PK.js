import*as r from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import"https://cdn.skypack.dev/three@0.129.0/examples/jsm/controls/OrbitControls.js";import{GLTFLoader as S}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))p(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&p(l)}).observe(document,{childList:!0,subtree:!0});function H(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function p(e){if(e.ep)return;e.ep=!0;const t=H(e);fetch(e.href,t)}})();const s=new r.Scene,c=new r.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);c.position.z=700;let o,E="eye";const M=new S;M.load(`models/${E}/scene.gltf`,function(i){o=i.scene,s.add(o)},function(i){console.error(i)});const P=new r.BoxGeometry(1,1,1),W=new r.MeshBasicMaterial({color:65280}),z=new r.Mesh(P,W),O=document.getElementById("draw"),w=new r.WebGLRenderer({canvas:O,antialias:!0});w.setSize(window.innerWidth,window.innerHeight);const m=new r.DirectionalLight(16777215,1.5);m.position.set(300,300,300);m.castShadow=!0;s.add(m);const q=new r.AmbientLight(3355443,1);s.add(q);let n=0,f=1,a=document.querySelector(".HomePage");window.addEventListener("scroll",i=>{n=window.scrollY*.001,console.log(n),n>6?(s.remove(o),s.add(z),c.position.z=5):(s.add(o),c.position.z=700),f=1-n*.2,n>1&&o.scale.set(n,n,n)});let y=window.innerWidth/2,L=window.innerHeight/2;function b(){requestAnimationFrame(b),f<0?a.style.display="none":(a.style.display="flex",a.style.opacity=f),n<2?(o.rotation.y=-3+y/window.innerWidth*3,o.rotation.x=-1.2+L*2.5/window.innerHeight):(o.rotation.y=-1.54,o.rotation.x=-.001),w.render(s,c)}let x=document.querySelector(".rightbox p"),h=x.textContent,g="",u=0,A=20;function v(){u<h.length&&(g+=h.charAt(u),x.textContent=g,u++,setTimeout(v,A))}window.onload=v;window.addEventListener("resize",function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)});document.onmousemove=i=>{y=i.clientX,L=i.clientY};b();
