import*as r from"https://cdn.skypack.dev/three@0.129.0/build/three.module.js";import"https://cdn.skypack.dev/three@0.129.0/examples/jsm/controls/OrbitControls.js";import{GLTFLoader as g}from"https://cdn.skypack.dev/three@0.129.0/examples/jsm/loaders/GLTFLoader.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function h(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function f(e){if(e.ep)return;e.ep=!0;const t=h(e);fetch(e.href,t)}})();const c=new r.Scene,s=new r.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.z=700;let o,y="eye";const L=new g;L.load(`models/${y}/scene.gltf`,function(n){o=n.scene,c.add(o)},function(n){console.error(n)});const b=document.getElementById("draw"),a=new r.WebGLRenderer({canvas:b,antialias:!0});a.setSize(window.innerWidth,window.innerHeight);const w=new r.DirectionalLight(16777215,1.5);w.position.set(300,300,300);w.castShadow=!0;c.add(w);const v=new r.AmbientLight(3355443,1);c.add(v);let i=0;window.addEventListener("scroll",n=>{console.log(window.scrollY),i=window.scrollY*.001,i>1&&o.scale.set(i,i,i)});let u=window.innerWidth/2,m=window.innerHeight/2;function p(){requestAnimationFrame(p),console.log(o.position),i<2?(o.rotation.y=-3+u/window.innerWidth*3,o.rotation.x=-1.2+m*2.5/window.innerHeight):(o.rotation.y=-1.54,o.rotation.x=-.001),a.render(c,s)}window.addEventListener("resize",function(){s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)});document.onmousemove=n=>{u=n.clientX,m=n.clientY};p();
